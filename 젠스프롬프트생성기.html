<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¨ ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ì•„í‚¤í…íŠ¸ - AI ì´ë¯¸ì§€ ìƒì„± í”„ë¡¬í”„íŠ¸ ì„¤ê³„ ë„êµ¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <style>
/**
 * ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ì•„í‚¤í…íŠ¸ - ìŠ¤íƒ€ì¼ì‹œíŠ¸
 * í˜„ëŒ€ì ì´ê³  ë°˜ì‘í˜•ì¸ ë””ìì¸
 */

/* ===== ì „ì—­ ì„¤ì • ===== */
:root {
    /* ìƒ‰ìƒ íŒ”ë ˆíŠ¸ */
    --primary-color: #6366f1;
    --primary-dark: #4f46e5;
    --primary-light: #818cf8;
    --secondary-color: #8b5cf6;
    --accent-color: #ec4899;
    
    --background: #0f172a;
    --surface: #1e293b;
    --surface-light: #334155;
    --surface-lighter: #475569;
    
    --text-primary: #f1f5f9;
    --text-secondary: #cbd5e1;
    --text-muted: #94a3b8;
    
    --success: #10b981;
    --error: #ef4444;
    --warning: #f59e0b;
    
    /* ê·¸ë¼ë°ì´ì…˜ */
    --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --gradient-accent: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    
    /* ê°„ê²© */
    --spacing-xs: 0.5rem;
    --spacing-sm: 1rem;
    --spacing-md: 1.5rem;
    --spacing-lg: 2rem;
    --spacing-xl: 3rem;
    
    /* ê·¸ë¦¼ì */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.2);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.4);
    --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.5);
    
    /* ì• ë‹ˆë©”ì´ì…˜ */
    --transition-fast: 0.15s ease;
    --transition-base: 0.3s ease;
    --transition-slow: 0.5s ease;
}

/* ===== ê¸°ë³¸ ë¦¬ì…‹ ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Noto Sans KR', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background: var(--background);
    color: var(--text-primary);
    line-height: 1.6;
    min-height: 100vh;
}

/* ===== ì»¨í…Œì´ë„ˆ ===== */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--spacing-md);
}

/* ===== í—¤ë” ===== */
.header {
    text-align: center;
    padding: var(--spacing-xl) 0;
    background: var(--gradient-primary);
    border-radius: 20px;
    margin-bottom: var(--spacing-xl);
    box-shadow: var(--shadow-lg);
}

.header-content {
    padding: var(--spacing-md);
}

.main-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: var(--spacing-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
}

.main-title i {
    font-size: 2.2rem;
}

.subtitle {
    font-size: 1.1rem;
    color: var(--text-secondary);
    font-weight: 300;
}

/* ===== ë©”ì¸ ì½˜í…ì¸  ===== */
.main-content {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xl);
}

/* ===== ì„¹ì…˜ ê³µí†µ ìŠ¤íƒ€ì¼ ===== */
.section-header {
    margin-bottom: var(--spacing-lg);
}

.section-header h2 {
    font-size: 1.8rem;
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.section-header h2 i {
    color: var(--primary-color);
}

.helper-text {
    color: var(--text-muted);
    font-size: 0.95rem;
}

/* ===== ì…ë ¥ ì„¹ì…˜ ===== */
.input-section {
    background: var(--surface);
    padding: var(--spacing-lg);
    border-radius: 16px;
    box-shadow: var(--shadow-md);
}

.input-wrapper {
    margin-bottom: var(--spacing-lg);
}

.user-input {
    width: 100%;
    min-height: 180px;
    padding: var(--spacing-md);
    background: var(--surface-light);
    border: 2px solid transparent;
    border-radius: 12px;
    color: var(--text-primary);
    font-size: 1rem;
    font-family: inherit;
    resize: vertical;
    transition: all var(--transition-base);
}

.user-input:focus {
    outline: none;
    border-color: var(--primary-color);
    background: var(--surface);
    box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
}

.user-input::placeholder {
    color: var(--text-muted);
}

/* ===== ê³ ê¸‰ ì˜µì…˜ ===== */
.advanced-options {
    margin-top: var(--spacing-md);
}

.options-toggle {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    background: var(--surface-light);
    border: 1px solid var(--surface-lighter);
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: 8px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--transition-base);
    width: 100%;
    font-size: 0.95rem;
}

.options-toggle:hover {
    background: var(--surface-lighter);
    color: var(--text-primary);
}

.options-toggle.active {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.toggle-icon {
    margin-left: auto;
    transition: transform var(--transition-base);
}

.options-toggle.active .toggle-icon {
    transform: rotate(180deg);
}

.options-panel {
    display: none;
    margin-top: var(--spacing-md);
    padding: var(--spacing-md);
    background: var(--surface);
    border-radius: 12px;
    border: 1px solid var(--surface-lighter);
    animation: slideDown var(--transition-base);
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.option-group {
    margin-bottom: var(--spacing-md);
}

.option-group:last-child {
    margin-bottom: 0;
}

.option-group label {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: var(--spacing-xs);
    color: var(--text-secondary);
}

.option-group label i {
    color: var(--primary-light);
}

.option-select {
    width: 100%;
    padding: var(--spacing-sm);
    background: var(--surface-light);
    border: 1px solid var(--surface-lighter);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 0.95rem;
    cursor: pointer;
    transition: all var(--transition-base);
}

.option-select:hover {
    border-color: var(--primary-color);
}

.option-select:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

/* ===== ë²„íŠ¼ ===== */
.action-buttons {
    display: flex;
    gap: var(--spacing-md);
    flex-wrap: wrap;
}

.btn {
    padding: var(--spacing-sm) var(--spacing-lg);
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    flex: 1;
    justify-content: center;
    min-width: 180px;
}

.btn i {
    font-size: 1.1rem;
}

.btn-primary {
    background: var(--gradient-primary);
    color: white;
    box-shadow: var(--shadow-md);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.btn-primary:active {
    transform: translateY(0);
}

.btn-primary:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.btn-secondary {
    background: var(--surface-light);
    color: var(--text-primary);
    border: 1px solid var(--surface-lighter);
}

.btn-secondary:hover {
    background: var(--surface-lighter);
    border-color: var(--primary-color);
}

/* ===== ë¡œë”© ì„¹ì…˜ ===== */
.loading-section {
    background: var(--surface);
    padding: var(--spacing-xl);
    border-radius: 16px;
    box-shadow: var(--shadow-md);
}

.loading-animation {
    text-align: center;
}

.spinner {
    width: 60px;
    height: 60px;
    margin: 0 auto var(--spacing-md);
    border: 4px solid var(--surface-lighter);
    border-top-color: var(--primary-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

.loading-animation p {
    color: var(--text-secondary);
    font-size: 1.1rem;
}

/* ===== ì¶œë ¥ ì„¹ì…˜ ===== */
.output-section {
    animation: fadeIn var(--transition-slow);
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===== í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ===== */
.prompt-card {
    background: var(--surface);
    border-radius: 16px;
    box-shadow: var(--shadow-md);
    margin-bottom: var(--spacing-lg);
    overflow: hidden;
    border: 1px solid var(--surface-lighter);
}

.prompt-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--surface-light);
    border-bottom: 1px solid var(--surface-lighter);
}

.prompt-header h3 {
    font-size: 1.2rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.btn-copy {
    padding: var(--spacing-xs) var(--spacing-md);
    background: var(--primary-color);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    transition: all var(--transition-base);
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
}

.btn-copy:hover {
    background: var(--primary-dark);
    transform: translateY(-1px);
}

.btn-copy.copied {
    background: var(--success);
    animation: pulse 0.5s;
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

.prompt-content {
    padding: var(--spacing-lg);
}

.prompt-text {
    background: var(--background);
    padding: var(--spacing-md);
    border-radius: 8px;
    font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
    font-size: 0.9rem;
    line-height: 1.8;
    color: var(--text-secondary);
    white-space: pre-wrap;
    word-wrap: break-word;
    border: 1px solid var(--surface-lighter);
    max-height: 500px;
    overflow-y: auto;
}

/* ===== ì„¤ëª… ì¹´ë“œ ===== */
.explanation-card {
    background: var(--surface);
    border-radius: 16px;
    box-shadow: var(--shadow-md);
    margin-bottom: var(--spacing-lg);
    overflow: hidden;
    border: 1px solid var(--surface-lighter);
}

.explanation-header {
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--gradient-accent);
    border-bottom: 1px solid var(--surface-lighter);
}

.explanation-header h3 {
    font-size: 1.2rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: white;
}

.explanation-content {
    padding: var(--spacing-lg);
}

.explanation-section {
    margin-bottom: var(--spacing-lg);
}

.explanation-section:last-child {
    margin-bottom: 0;
}

.explanation-section h4 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: var(--spacing-sm);
    color: var(--primary-light);
}

.explanation-section p {
    margin-bottom: var(--spacing-sm);
    color: var(--text-secondary);
    line-height: 1.8;
}

.explanation-section ul {
    list-style: none;
    padding-left: 0;
}

.explanation-section li {
    padding: var(--spacing-xs) 0;
    padding-left: var(--spacing-lg);
    position: relative;
    color: var(--text-secondary);
}

.explanation-section li::before {
    content: 'â†’';
    position: absolute;
    left: 0;
    color: var(--primary-color);
    font-weight: bold;
}

.explanation-section .tip {
    background: rgba(99, 102, 241, 0.1);
    padding: var(--spacing-md);
    border-radius: 8px;
    border-left: 4px solid var(--primary-color);
    margin-top: var(--spacing-md);
}

/* ===== íŒ ì„¹ì…˜ ===== */
.tips-section {
    background: var(--surface);
    padding: var(--spacing-lg);
    border-radius: 16px;
    box-shadow: var(--shadow-md);
    margin-top: var(--spacing-xl);
}

.tips-section h3 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.tips-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-md);
}

.tip-card {
    background: var(--surface-light);
    padding: var(--spacing-md);
    border-radius: 12px;
    border: 1px solid var(--surface-lighter);
    transition: all var(--transition-base);
}

.tip-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-md);
    border-color: var(--primary-color);
}

.tip-card i {
    font-size: 2rem;
    color: var(--primary-color);
    margin-bottom: var(--spacing-sm);
    display: block;
}

.tip-card h4 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    color: var(--text-primary);
}

.tip-card p {
    font-size: 0.9rem;
    color: var(--text-muted);
    line-height: 1.6;
}

/* ===== í‘¸í„° ===== */
.footer {
    text-align: center;
    padding: var(--spacing-xl) 0;
    margin-top: var(--spacing-xl);
    color: var(--text-muted);
}

.footer p {
    margin-bottom: var(--spacing-xs);
}

.footer i {
    color: var(--accent-color);
}

.footer-note {
    font-size: 0.9rem;
    color: var(--text-muted);
}

/* ===== í† ìŠ¤íŠ¸ ì•Œë¦¼ ===== */
.toast {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: var(--surface);
    color: var(--text-primary);
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: 12px;
    box-shadow: var(--shadow-xl);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    opacity: 0;
    transform: translateY(100px);
    transition: all var(--transition-base);
    z-index: 1000;
    border: 1px solid var(--success);
}

.toast.show {
    opacity: 1;
    transform: translateY(0);
}

.toast.error {
    border-color: var(--error);
}

.toast i {
    color: var(--success);
    font-size: 1.3rem;
}

.toast.error i {
    color: var(--error);
}

/* ===== ë°˜ì‘í˜• ë””ìì¸ ===== */
@media (max-width: 768px) {
    .container {
        padding: var(--spacing-sm);
    }
    
    .main-title {
        font-size: 1.8rem;
    }
    
    .main-title i {
        font-size: 1.6rem;
    }
    
    .subtitle {
        font-size: 0.95rem;
    }
    
    .section-header h2 {
        font-size: 1.4rem;
    }
    
    .action-buttons {
        flex-direction: column;
    }
    
    .btn {
        width: 100%;
        min-width: auto;
    }
    
    .tips-grid {
        grid-template-columns: 1fr;
    }
    
    .toast {
        bottom: 20px;
        right: 20px;
        left: 20px;
    }
    
    .prompt-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-sm);
    }
    
    .btn-copy {
        width: 100%;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .header {
        border-radius: 12px;
    }
    
    .main-title {
        font-size: 1.5rem;
        flex-direction: column;
    }
    
    .user-input {
        min-height: 150px;
        font-size: 0.95rem;
    }
}

/* ===== ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ ===== */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: var(--surface);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: var(--surface-lighter);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--primary-color);
}

/* ===== ì„ íƒ ì˜ì—­ ìŠ¤íƒ€ì¼ ===== */
::selection {
    background: var(--primary-color);
    color: white;
}

::-moz-selection {
    background: var(--primary-color);
    color: white;
}
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="main-title">
                    <i class="fas fa-palette"></i>
                    ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ì•„í‚¤í…íŠ¸
                </h1>
                <p class="subtitle">ë‹¨ìˆœí•œ ì•„ì´ë””ì–´ë¥¼ ì„¸ê³„ ìµœê³  ìˆ˜ì¤€ì˜ AI ì´ë¯¸ì§€ ìƒì„± í”„ë¡¬í”„íŠ¸ë¡œ ë³€í™˜í•©ë‹ˆë‹¤</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Input Section -->
            <section class="input-section">
                <div class="section-header">
                    <h2><i class="fas fa-lightbulb"></i> ë‹¹ì‹ ì˜ ì•„ì´ë””ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”</h2>
                    <p class="helper-text">ì˜ˆ: "ë¯¸ë˜ ë„ì‹œì˜ ì¼ëª°", "ìš°ì£¼ë¥¼ ë°°ê²½ìœ¼ë¡œ í•œ ê³ ì–‘ì´", "íŒíƒ€ì§€ ìˆ²ì˜ ë§ˆë²•ì‚¬"</p>
                </div>
                
                <div class="input-wrapper">
                    <textarea 
                        id="userInput" 
                        class="user-input" 
                        placeholder="ìƒì„±í•˜ê³  ì‹¶ì€ ì´ë¯¸ì§€ë¥¼ ê°„ë‹¨íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”...&#10;&#10;ì˜ˆì‹œ:&#10;â€¢ ì‚¬ì´ë²„í‘í¬ ìŠ¤íƒ€ì¼ì˜ ë„¤ì˜¨ ë„ì‹œ&#10;â€¢ ìˆ˜ì±„í™” ëŠë‚Œì˜ ì‚° í’ê²½&#10;â€¢ ë¯¸ë˜í˜• ìë™ì°¨ ë””ìì¸"
                        rows="6"
                    ></textarea>
                    
                    <div class="advanced-options">
                        <button class="options-toggle" id="optionsToggle">
                            <i class="fas fa-cog"></i> ê³ ê¸‰ ì˜µì…˜
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </button>
                        
                        <div class="options-panel" id="optionsPanel">
                            <div class="option-group">
                                <label for="styleSelect">
                                    <i class="fas fa-brush"></i> ì„ í˜¸ ìŠ¤íƒ€ì¼
                                </label>
                                <select id="styleSelect" class="option-select">
                                    <option value="">ìë™ ì„ íƒ (ê¶Œì¥)</option>
                                    <option value="realistic">ì‚¬ì‹¤ì  (Realistic)</option>
                                    <option value="artistic">ì˜ˆìˆ ì  (Artistic)</option>
                                    <option value="anime">ì• ë‹ˆë©”ì´ì…˜ (Anime)</option>
                                    <option value="3d">3D ë Œë”</option>
                                    <option value="fantasy">íŒíƒ€ì§€</option>
                                    <option value="cyberpunk">ì‚¬ì´ë²„í‘í¬</option>
                                </select>
                            </div>
                            
                            <div class="option-group">
                                <label for="qualitySelect">
                                    <i class="fas fa-star"></i> í’ˆì§ˆ ìˆ˜ì¤€
                                </label>
                                <select id="qualitySelect" class="option-select">
                                    <option value="ultra">ì´ˆê³ í’ˆì§ˆ (Ultra)</option>
                                    <option value="high" selected>ê³ í’ˆì§ˆ (High)</option>
                                    <option value="balanced">ê· í˜• (Balanced)</option>
                                </select>
                            </div>
                            
                            <div class="option-group">
                                <label for="detailLevel">
                                    <i class="fas fa-layer-group"></i> ë””í…Œì¼ ìˆ˜ì¤€
                                </label>
                                <select id="detailLevel" class="option-select">
                                    <option value="extreme">ê·¹ë„ë¡œ ì„¸ë°€í•¨</option>
                                    <option value="high" selected>ë†’ì€ ë””í…Œì¼</option>
                                    <option value="moderate">ì ë‹¹í•œ ë””í…Œì¼</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="generateBtn">
                        <i class="fas fa-magic"></i> í”„ë¡¬í”„íŠ¸ ìƒì„±í•˜ê¸°
                    </button>
                    <button class="btn btn-secondary" id="clearBtn">
                        <i class="fas fa-eraser"></i> ì´ˆê¸°í™”
                    </button>
                </div>
            </section>

            <!-- Loading Animation -->
            <div class="loading-section" id="loadingSection" style="display: none;">
                <div class="loading-animation">
                    <div class="spinner"></div>
                    <p>AIê°€ ìµœì ì˜ í”„ë¡¬í”„íŠ¸ë¥¼ ì„¤ê³„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
                </div>
            </div>

            <!-- Output Section -->
            <section class="output-section" id="outputSection" style="display: none;">
                <div class="section-header">
                    <h2><i class="fas fa-magic"></i> ìƒì„±ëœ í”„ë¡¬í”„íŠ¸</h2>
                    <p class="helper-text">ì•„ë˜ í”„ë¡¬í”„íŠ¸ë¥¼ ë³µì‚¬í•˜ì—¬ AI ì´ë¯¸ì§€ ìƒì„± ë„êµ¬ì— ì‚¬ìš©í•˜ì„¸ìš”</p>
                </div>

                <!-- Korean Prompt -->
                <div class="prompt-card">
                    <div class="prompt-header">
                        <h3><i class="fas fa-language"></i> ğŸ‡°ğŸ‡· í•œêµ­ì–´ í”„ë¡¬í”„íŠ¸</h3>
                        <button class="btn-copy" data-target="koreanPrompt">
                            <i class="fas fa-copy"></i> ë³µì‚¬
                        </button>
                    </div>
                    <div class="prompt-content">
                        <pre id="koreanPrompt" class="prompt-text"></pre>
                    </div>
                </div>

                <!-- English Prompt -->
                <div class="prompt-card">
                    <div class="prompt-header">
                        <h3><i class="fas fa-globe"></i> ğŸ‡ºğŸ‡¸ English Prompt</h3>
                        <button class="btn-copy" data-target="englishPrompt">
                            <i class="fas fa-copy"></i> Copy
                        </button>
                    </div>
                    <div class="prompt-content">
                        <pre id="englishPrompt" class="prompt-text"></pre>
                    </div>
                </div>

                <!-- Explanation -->
                <div class="explanation-card">
                    <div class="explanation-header">
                        <h3><i class="fas fa-info-circle"></i> ğŸ’¡ í”„ë¡¬í”„íŠ¸ ì„¤ê³„ í•´ì„¤</h3>
                    </div>
                    <div class="explanation-content" id="explanationContent"></div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-primary" id="regenerateBtn">
                        <i class="fas fa-redo"></i> ë‹¤ì‹œ ìƒì„±í•˜ê¸°
                    </button>
                    <button class="btn btn-secondary" id="newPromptBtn">
                        <i class="fas fa-plus"></i> ìƒˆ í”„ë¡¬í”„íŠ¸ ë§Œë“¤ê¸°
                    </button>
                </div>
            </section>

            <!-- Tips Section -->
            <section class="tips-section">
                <h3><i class="fas fa-lightbulb"></i> ğŸ’¡ ë” ë‚˜ì€ ì´ë¯¸ì§€ë¥¼ ìœ„í•œ íŒ</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <i class="fas fa-palette"></i>
                        <h4>êµ¬ì²´ì ìœ¼ë¡œ í‘œí˜„í•˜ê¸°</h4>
                        <p>"ì˜ˆìœ í’ê²½" ëŒ€ì‹  "ì¼ëª° ì‹œê°„ì˜ ë¼ë²¤ë” ë°­ê³¼ ì˜¤ë˜ëœ í’ì°¨"ì²˜ëŸ¼ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•˜ì„¸ìš”.</p>
                    </div>
                    <div class="tip-card">
                        <i class="fas fa-brush"></i>
                        <h4>ìŠ¤íƒ€ì¼ ì–¸ê¸‰í•˜ê¸°</h4>
                        <p>ì›í•˜ëŠ” ì˜ˆìˆ  ìŠ¤íƒ€ì¼(ì‚¬ì‹¤ì , ìˆ˜ì±„í™”, 3D ë“±)ì„ ëª…ì‹œí•˜ë©´ ë” ì •í™•í•œ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    </div>
                    <div class="tip-card">
                        <i class="fas fa-sun"></i>
                        <h4>ì¡°ëª…ê³¼ ë¶„ìœ„ê¸°</h4>
                        <p>ì‹œê°„ëŒ€, ë‚ ì”¨, ì¡°ëª… ì¡°ê±´ì„ ì¶”ê°€í•˜ë©´ ì´ë¯¸ì§€ì˜ ë¶„ìœ„ê¸°ê°€ í¬ê²Œ í–¥ìƒë©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="tip-card">
                        <i class="fas fa-camera"></i>
                        <h4>ì¹´ë©”ë¼ ì•µê¸€</h4>
                        <p>"í´ë¡œì¦ˆì—…", "ê´‘ê°", "ìƒˆì˜ ëˆˆìœ¼ë¡œ ë³¸" ë“± ì‹œì ì„ ì§€ì •í•˜ë©´ êµ¬ë„ê°€ ëª…í™•í•´ì§‘ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>
                <i class="fas fa-heart"></i> 
                ìµœê³ ì˜ AI ì´ë¯¸ì§€ ìƒì„±ì„ ìœ„í•œ í”„ë¡¬í”„íŠ¸ ì„¤ê³„ ë„êµ¬
            </p>
            <p class="footer-note">
                Midjourney, DALL-E, Stable Diffusion, Leonardo AI ë“± ëª¨ë“  ì´ë¯¸ì§€ ìƒì„± AIì— ì‚¬ìš© ê°€ëŠ¥
            </p>
        </footer>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</span>
    </div>

    <script>
// ========== í”„ë¡¬í”„íŠ¸ ìƒì„± ì—”ì§„ ==========
class ImagePromptArchitect {
    constructor() {
        this.styleKeywords = {
            realistic: {
                quality: 'photorealistic, ultra-detailed, 8k resolution, professional photography',
                lighting: 'natural lighting, ray tracing, volumetric lighting',
                camera: 'DSLR, 85mm lens, sharp focus, depth of field',
                details: 'highly detailed textures, intricate details, lifelike'
            },
            artistic: {
                quality: 'masterpiece, artistic composition, gallery quality',
                lighting: 'dramatic lighting, chiaroscuro, artistic shadows',
                camera: 'carefully composed, rule of thirds, golden ratio',
                details: 'expressive brushstrokes, rich textures, artistic interpretation'
            },
            anime: {
                quality: 'anime style, manga illustration, cel shading',
                lighting: 'vibrant colors, anime lighting, dramatic highlights',
                camera: 'dynamic angle, anime composition',
                details: 'detailed line art, expressive eyes, clean outlines'
            },
            '3d': {
                quality: '3D render, octane render, unreal engine 5',
                lighting: 'studio lighting, global illumination, ambient occlusion',
                camera: 'cinematic camera angle, professional 3D composition',
                details: 'high polygon count, subsurface scattering, PBR materials'
            },
            fantasy: {
                quality: 'fantasy art, epic composition, magical atmosphere',
                lighting: 'ethereal lighting, mystical glow, magical ambiance',
                camera: 'grand perspective, heroic angle, immersive view',
                details: 'intricate magical details, mythical elements, enchanted aesthetics'
            },
            cyberpunk: {
                quality: 'cyberpunk aesthetic, futuristic, dystopian atmosphere',
                lighting: 'neon lights, holographic displays, moody lighting',
                camera: 'urban perspective, gritty composition, tech noir angle',
                details: 'high-tech details, neon signs, futuristic technology'
            }
        };

        this.qualitySettings = {
            ultra: {
                resolution: '8K resolution, ultra high definition',
                detail: 'extremely detailed, hyper-realistic details, intricate complexity',
                rendering: 'perfect rendering, flawless execution, premium quality'
            },
            high: {
                resolution: '4K resolution, high definition',
                detail: 'highly detailed, professional quality, crisp details',
                rendering: 'excellent rendering, high-quality output'
            },
            balanced: {
                resolution: 'high resolution',
                detail: 'well-detailed, good quality',
                rendering: 'balanced composition, clear output'
            }
        };

        this.detailLevels = {
            extreme: 'macro details, microscopic precision, every tiny element visible, extreme attention to detail',
            high: 'intricate details, fine elements, careful attention to small features',
            moderate: 'clear details, well-defined elements, good clarity'
        };
    }

    analyzeInput(userInput, options = {}) {
        return {
            mainSubject: userInput.toLowerCase().trim(),
            suggestedStyle: options.style || this.detectStyle(userInput),
            atmosphere: this.detectAtmosphere(userInput),
            timeAndWeather: this.detectTimeAndWeather(userInput),
            compositionElements: this.detectCompositionElements(userInput),
            colorPalette: this.detectColorPalette(userInput)
        };
    }

    detectStyle(input) {
        const lower = input.toLowerCase();
        if (lower.match(/ì‚¬ì§„|í¬í† |ë¦¬ì–¼|í˜„ì‹¤|ì‹¤ì œ/)) return 'realistic';
        if (lower.match(/ì• ë‹ˆ|ë§Œí™”|ì¼ë³¸/)) return 'anime';
        if (lower.match(/3d|ë Œë”|ëª¨ë¸ë§/)) return '3d';
        if (lower.match(/ì‚¬ì´ë²„í‘í¬|ë¯¸ë˜|ë„¤ì˜¨/)) return 'cyberpunk';
        if (lower.match(/íŒíƒ€ì§€|ë§ˆë²•|ì‹ í™”/)) return 'fantasy';
        if (lower.match(/ì˜ˆìˆ |ê·¸ë¦¼|íšŒí™”|ìˆ˜ì±„í™”|ìœ í™”/)) return 'artistic';
        return 'realistic';
    }

    detectAtmosphere(input) {
        const lower = input.toLowerCase();
        const atmospheres = [];
        if (lower.match(/ì–´ë‘ìš´|ìŒìš¸í•œ|ìš°ìš¸í•œ/)) atmospheres.push('moody', 'dark');
        if (lower.match(/ë°ì€|í™”ì‚¬í•œ|ê²½ì¾Œí•œ/)) atmospheres.push('bright', 'cheerful');
        if (lower.match(/ê·¹ì ì¸|ë“œë¼ë§ˆí‹±/)) atmospheres.push('dramatic');
        if (lower.match(/í‰ì˜¨í•œ|ê³ ìš”í•œ|ì°¨ë¶„í•œ/)) atmospheres.push('serene', 'peaceful');
        if (lower.match(/ì‹ ë¹„ë¡œìš´|ëª½í™˜ì ì¸/)) atmospheres.push('mystical', 'ethereal');
        if (lower.match(/í™œê¸°ì°¬|ì—­ë™ì ì¸/)) atmospheres.push('energetic', 'dynamic');
        return atmospheres.length > 0 ? atmospheres : ['atmospheric'];
    }

    detectTimeAndWeather(input) {
        const lower = input.toLowerCase();
        const conditions = {};
        if (lower.match(/ì¼ì¶œ|ì•„ì¹¨/)) conditions.time = 'sunrise, morning light';
        else if (lower.match(/ì¼ëª°|ì €ë…|í™©í˜¼/)) conditions.time = 'sunset, golden hour';
        else if (lower.match(/ë°¤|ì•¼ê°„/)) conditions.time = 'night, moonlight';
        else if (lower.match(/ì •ì˜¤|í•œë‚®/)) conditions.time = 'midday, bright sunlight';

        if (lower.match(/ë¹„|ìš°ì²œ/)) conditions.weather = 'rainy, wet atmosphere';
        else if (lower.match(/ëˆˆ|ì„¤/)) conditions.weather = 'snowy, winter atmosphere';
        else if (lower.match(/ì•ˆê°œ|ë¯¸ìŠ¤íŠ¸/)) conditions.weather = 'foggy, misty';
        else if (lower.match(/êµ¬ë¦„|íë¦°/)) conditions.weather = 'cloudy, overcast';
        else if (lower.match(/ë§‘ì€|ì²­ëª…í•œ/)) conditions.weather = 'clear sky, perfect weather';
        return conditions;
    }

    detectCompositionElements(input) {
        const lower = input.toLowerCase();
        const elements = [];
        if (lower.match(/í´ë¡œì¦ˆì—…|ê·¼ì ‘/)) elements.push('close-up shot');
        if (lower.match(/ê´‘ê°|ì™€ì´ë“œ/)) elements.push('wide angle');
        if (lower.match(/ì¡°ê°|ìƒˆì˜ ëˆˆ|ìœ„ì—ì„œ/)) elements.push("bird's eye view");
        if (lower.match(/ì €ê°|ì•„ë˜ì—ì„œ/)) elements.push('low angle shot');
        if (lower.match(/íŒŒë…¸ë¼ë§ˆ/)) elements.push('panoramic view');
        if (lower.match(/ì¤‘ì‹¬|ì¤‘ì•™/)) elements.push('centered composition');
        return elements;
    }

    detectColorPalette(input) {
        const lower = input.toLowerCase();
        const colors = [];
        if (lower.match(/íŒŒìŠ¤í…”/)) colors.push('pastel colors');
        if (lower.match(/ë¹„ë¹„ë“œ|ì„ ëª…í•œ/)) colors.push('vivid colors, high saturation');
        if (lower.match(/ëª¨ë…¸í¬ë¡¬|í‘ë°±/)) colors.push('monochrome, black and white');
        if (lower.match(/ë”°ëœ»í•œ|ì›œí†¤/)) colors.push('warm color palette');
        if (lower.match(/ì°¨ê°€ìš´|ì¿¨í†¤/)) colors.push('cool color palette');
        if (lower.match(/ë„¤ì˜¨/)) colors.push('neon colors, vibrant neon');
        return colors;
    }

    generateKoreanPrompt(userInput, options = {}) {
        const analysis = this.analyzeInput(userInput, options);
        const style = options.style || analysis.suggestedStyle;
        const quality = options.quality || 'high';
        const detailLevel = options.detailLevel || 'high';

        const styleKeys = this.styleKeywords[style] || this.styleKeywords.realistic;
        const qualityKeys = this.qualitySettings[quality];
        const detailKeys = this.detailLevels[detailLevel];

        let prompt = `# ì´ë¯¸ì§€ ìƒì„± í”„ë¡¬í”„íŠ¸\n\n`;
        prompt += `**ì£¼ìš” ë‚´ìš©:**\n${userInput}\n\n`;
        prompt += `**ìŠ¤íƒ€ì¼:**\n${this.translateToKorean(styleKeys.quality)}\n\n`;
        prompt += `**ì¡°ëª… ì„¤ì •:**\n${this.translateToKorean(styleKeys.lighting)}`;
        if (analysis.timeAndWeather.time) prompt += `, ${analysis.timeAndWeather.time}`;
        prompt += `\n\n**êµ¬ë„ ë° ì¹´ë©”ë¼:**\n${this.translateToKorean(styleKeys.camera)}`;
        if (analysis.compositionElements.length > 0) prompt += `, ${analysis.compositionElements.join(', ')}`;
        prompt += `\n\n**í’ˆì§ˆ ì„¤ì •:**\n${this.translateToKorean(qualityKeys.resolution)}, ${this.translateToKorean(qualityKeys.detail)}, ${this.translateToKorean(detailKeys)}\n\n`;
        if (analysis.atmosphere.length > 0) prompt += `**ë¶„ìœ„ê¸°:**\n${analysis.atmosphere.join(', ')}\n\n`;
        if (analysis.colorPalette.length > 0) prompt += `**ìƒ‰ìƒ:**\n${analysis.colorPalette.join(', ')}\n\n`;
        prompt += `**ì¶”ê°€ ë””í…Œì¼:**\n${this.translateToKorean(styleKeys.details)}, ${this.translateToKorean(qualityKeys.rendering)}`;
        if (analysis.timeAndWeather.weather) prompt += `, ${analysis.timeAndWeather.weather}`;

        return prompt;
    }

    generateEnglishPrompt(userInput, options = {}) {
        const analysis = this.analyzeInput(userInput, options);
        const style = options.style || analysis.suggestedStyle;
        const quality = options.quality || 'high';
        const detailLevel = options.detailLevel || 'high';

        const styleKeys = this.styleKeywords[style] || this.styleKeywords.realistic;
        const qualityKeys = this.qualitySettings[quality];
        const detailKeys = this.detailLevels[detailLevel];

        let prompt = `${this.translateToEnglish(userInput)}, ${styleKeys.quality}, ${qualityKeys.resolution}, ${qualityKeys.detail}, ${styleKeys.lighting}`;
        if (analysis.timeAndWeather.time) prompt += `, ${analysis.timeAndWeather.time}`;
        prompt += `, ${styleKeys.camera}`;
        if (analysis.compositionElements.length > 0) prompt += `, ${analysis.compositionElements.join(', ')}`;
        prompt += `, ${detailKeys}, ${styleKeys.details}, `;
        if (analysis.atmosphere.length > 0) prompt += `${analysis.atmosphere.join(', ')}, `;
        if (analysis.colorPalette.length > 0) prompt += `${analysis.colorPalette.join(', ')}, `;
        if (analysis.timeAndWeather.weather) prompt += `${analysis.timeAndWeather.weather}, `;
        prompt += `${qualityKeys.rendering}, masterpiece`;

        return prompt;
    }

    generateExplanation(userInput, options = {}) {
        const analysis = this.analyzeInput(userInput, options);
        const style = options.style || analysis.suggestedStyle;
        const quality = options.quality || 'high';

        let explanation = `<div class="explanation-section"><h4>ğŸ¯ ì˜ë„ êµ¬ì²´í™”</h4>`;
        explanation += `<p>ì‚¬ìš©ìì˜ ì…ë ¥ "<strong>${userInput}</strong>"ì„ ë¶„ì„í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ í•´ì„í–ˆìŠµë‹ˆë‹¤:</p><ul>`;
        explanation += `<li><strong>ê°ì§€ëœ ìŠ¤íƒ€ì¼:</strong> ${this.getStyleName(style)}</li>`;
        explanation += `<li><strong>ì„ íƒëœ í’ˆì§ˆ:</strong> ${this.getQualityName(quality)}</li>`;
        if (analysis.atmosphere.length > 0) explanation += `<li><strong>ë¶„ìœ„ê¸°:</strong> ${analysis.atmosphere.join(', ')}</li>`;
        if (analysis.timeAndWeather.time || analysis.timeAndWeather.weather) {
            explanation += `<li><strong>í™˜ê²½ ì¡°ê±´:</strong> ${analysis.timeAndWeather.time || ''} ${analysis.timeAndWeather.weather || ''}</li>`;
        }
        explanation += `</ul></div>`;

        explanation += `<div class="explanation-section"><h4>âš™ï¸ ì„¤ê³„ í•µì‹¬</h4>`;
        explanation += `<p>ìµœê³  í’ˆì§ˆì˜ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ìš”ì†Œë“¤ì„ ìë™ìœ¼ë¡œ ì ìš©í–ˆìŠµë‹ˆë‹¤:</p><ul>`;
        explanation += `<li><strong>ì „ë¬¸ê°€ ìˆ˜ì¤€ì˜ ì¡°ëª… ì„¤ì •:</strong> ì´ë¯¸ì§€ì˜ ê¹Šì´ì™€ ì…ì²´ê°ì„ ê·¹ëŒ€í™”</li>`;
        explanation += `<li><strong>ìµœì ì˜ ì¹´ë©”ë¼ êµ¬ë„:</strong> ì „ë¬¸ ì‚¬ì§„ê°€ì˜ ê¸°ë²•ì„ ì ìš©í•œ êµ¬ì„±</li>`;
        explanation += `<li><strong>ê³ ê¸‰ í’ˆì§ˆ í‚¤ì›Œë“œ:</strong> AIê°€ ìµœìƒì˜ ë””í…Œì¼ì„ ë Œë”ë§í•˜ë„ë¡ ìœ ë„</li>`;
        explanation += `<li><strong>ìŠ¤íƒ€ì¼ íŠ¹í™” ìš”ì†Œ:</strong> ${this.getStyleName(style)} ìŠ¤íƒ€ì¼ì˜ í•µì‹¬ íŠ¹ì§• ê°•ì¡°</li>`;
        explanation += `</ul></div>`;

        explanation += `<div class="explanation-section"><h4>âœ¨ ê¸°ëŒ€ ê²°ê³¼ë¬¼</h4>`;
        explanation += `<p>ì´ í”„ë¡¬í”„íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°€ì§„ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p><ul>`;
        explanation += `<li>ì „ë¬¸ê°€ ìˆ˜ì¤€ì˜ ${this.getStyleName(style)} ì´ë¯¸ì§€</li>`;
        explanation += `<li>ì„¸ë°€í•œ ë””í…Œì¼ê³¼ ë†’ì€ í•´ìƒë„</li><li>ì™„ë²½í•œ ì¡°ëª…ê³¼ êµ¬ë„</li><li>ì¼ê´€ëœ í’ˆì§ˆê³¼ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ê²°ê³¼</li></ul>`;
        explanation += `<p class="tip"><i class="fas fa-lightbulb"></i> <strong>íŒ:</strong> ë§Œì¡±ìŠ¤ëŸ½ì§€ ì•Šë‹¤ë©´ "ë‹¤ì‹œ ìƒì„±í•˜ê¸°"ë¥¼ ëˆŒëŸ¬ ë‹¤ë¥¸ ë²„ì „ì„ ì‹œë„í•´ë³´ì„¸ìš”!</p></div>`;

        return explanation;
    }

    translateToKorean(text) {
        const translations = {
            'photorealistic': 'ì‚¬ì§„ê°™ì´ ì‚¬ì‹¤ì ì¸', 'ultra-detailed': 'ì´ˆì •ë°€ ë””í…Œì¼', '8k resolution': '8K í•´ìƒë„',
            'professional photography': 'ì „ë¬¸ê°€ ì´¬ì˜ ìˆ˜ì¤€', 'natural lighting': 'ìì—°ê´‘ ì¡°ëª…', 'ray tracing': 'ë ˆì´ íŠ¸ë ˆì´ì‹±',
            'volumetric lighting': 'ë³¼ë¥¨ ì¡°ëª…', 'DSLR': 'DSLR ì¹´ë©”ë¼', '85mm lens': '85mm ë Œì¦ˆ',
            'sharp focus': 'ì„ ëª…í•œ ì´ˆì ', 'depth of field': 'í”¼ì‚¬ê³„ ì‹¬ë„', 'highly detailed textures': 'ê³ ë„ë¡œ ì„¸ë°€í•œ ì§ˆê°',
            'intricate details': 'ë³µì¡í•œ ë””í…Œì¼', 'lifelike': 'ìƒìƒí•œ', 'masterpiece': 'ê±¸ì‘ ìˆ˜ì¤€',
            'artistic composition': 'ì˜ˆìˆ ì  êµ¬ì„±', 'gallery quality': 'ê°¤ëŸ¬ë¦¬ í’ˆì§ˆ', 'dramatic lighting': 'ë“œë¼ë§ˆí‹±í•œ ì¡°ëª…',
            'excellent rendering': 'íƒì›”í•œ ë Œë”ë§', 'high-quality output': 'ê³ í’ˆì§ˆ ì¶œë ¥', 'perfect rendering': 'ì™„ë²½í•œ ë Œë”ë§',
            'flawless execution': 'í ì¡ì„ ë° ì—†ëŠ” ì‹¤í–‰', 'premium quality': 'í”„ë¦¬ë¯¸ì—„ í’ˆì§ˆ'
        };
        let translated = text;
        for (const [en, ko] of Object.entries(translations)) {
            translated = translated.replace(new RegExp(en, 'gi'), ko);
        }
        return translated;
    }

    translateToEnglish(text) {
        const korToEng = {
            'ì‚¬ì´ë²„í‘í¬': 'cyberpunk', 'ë¯¸ë˜ ë„ì‹œ': 'futuristic city', 'ì¼ëª°': 'sunset', 'ê³ ì–‘ì´': 'cat',
            'ìš°ì£¼': 'space', 'íŒíƒ€ì§€': 'fantasy', 'ìˆ²': 'forest', 'ë§ˆë²•ì‚¬': 'wizard', 'ì‚°': 'mountain',
            'í’ê²½': 'landscape', 'ë°”ë‹¤': 'ocean', 'í•˜ëŠ˜': 'sky', 'ë„¤ì˜¨': 'neon', 'ë„ì‹œ': 'city',
            'ìë™ì°¨': 'car', 'ê±´ë¬¼': 'building', 'ì‚¬ëŒ': 'person', 'ì—¬ì„±': 'woman', 'ë‚¨ì„±': 'man'
        };
        let result = text;
        for (const [ko, en] of Object.entries(korToEng)) {
            result = result.replace(new RegExp(ko, 'g'), en);
        }
        return result;
    }

    getStyleName(style) {
        const names = {
            realistic: 'ì‚¬ì‹¤ì  (Realistic)', artistic: 'ì˜ˆìˆ ì  (Artistic)', anime: 'ì• ë‹ˆë©”ì´ì…˜ (Anime)',
            '3d': '3D ë Œë”', fantasy: 'íŒíƒ€ì§€ (Fantasy)', cyberpunk: 'ì‚¬ì´ë²„í‘í¬ (Cyberpunk)'
        };
        return names[style] || style;
    }

    getQualityName(quality) {
        const names = { ultra: 'ì´ˆê³ í’ˆì§ˆ (Ultra)', high: 'ê³ í’ˆì§ˆ (High)', balanced: 'ê· í˜• (Balanced)' };
        return names[quality] || quality;
    }
}

const promptArchitect = new ImagePromptArchitect();

// ========== ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ ==========
const userInput = document.getElementById('userInput');
const generateBtn = document.getElementById('generateBtn');
const clearBtn = document.getElementById('clearBtn');
const regenerateBtn = document.getElementById('regenerateBtn');
const newPromptBtn = document.getElementById('newPromptBtn');
const loadingSection = document.getElementById('loadingSection');
const outputSection = document.getElementById('outputSection');
const koreanPrompt = document.getElementById('koreanPrompt');
const englishPrompt = document.getElementById('englishPrompt');
const explanationContent = document.getElementById('explanationContent');
const toast = document.getElementById('toast');
const toastMessage = document.getElementById('toastMessage');
const optionsToggle = document.getElementById('optionsToggle');
const optionsPanel = document.getElementById('optionsPanel');
const styleSelect = document.getElementById('styleSelect');
const qualitySelect = document.getElementById('qualitySelect');
const detailLevel = document.getElementById('detailLevel');

let currentInput = '';
let currentOptions = {};

document.addEventListener('DOMContentLoaded', () => {
    generateBtn.addEventListener('click', handleGenerate);
    clearBtn.addEventListener('click', handleClear);
    regenerateBtn.addEventListener('click', handleRegenerate);
    newPromptBtn.addEventListener('click', handleNewPrompt);
    optionsToggle.addEventListener('click', toggleOptions);

    document.querySelectorAll('.btn-copy').forEach(btn => {
        btn.addEventListener('click', (e) => {
            const targetId = e.currentTarget.getAttribute('data-target');
            copyToClipboard(targetId);
        });
    });

    userInput.addEventListener('keydown', (e) => {
        if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') handleGenerate();
    });

    userInput.focus();
});

async function handleGenerate() {
    const input = userInput.value.trim();
    if (!input) {
        showToast('ì•„ì´ë””ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!', 'error');
        userInput.focus();
        return;
    }

    currentInput = input;
    currentOptions = { style: styleSelect.value, quality: qualitySelect.value, detailLevel: detailLevel.value };
    showLoading();
    await simulateProcessing();

    try {
        const koreanResult = promptArchitect.generateKoreanPrompt(input, currentOptions);
        const englishResult = promptArchitect.generateEnglishPrompt(input, currentOptions);
        const explanation = promptArchitect.generateExplanation(input, currentOptions);

        koreanPrompt.textContent = koreanResult;
        englishPrompt.textContent = englishResult;
        explanationContent.innerHTML = explanation;

        hideLoading();
        showOutput();
        outputSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
    } catch (error) {
        console.error('í”„ë¡¬í”„íŠ¸ ìƒì„± ì˜¤ë¥˜:', error);
        hideLoading();
        showToast('í”„ë¡¬í”„íŠ¸ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
    }
}

function handleClear() {
    if (confirm('ì…ë ¥í•œ ë‚´ìš©ì„ ëª¨ë‘ ì§€ìš°ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        userInput.value = '';
        styleSelect.value = '';
        qualitySelect.value = 'high';
        detailLevel.value = 'high';
        userInput.focus();
        showToast('ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
}

async function handleRegenerate() {
    if (!currentInput) return;
    showLoading();
    hideOutput();
    await simulateProcessing();

    try {
        const koreanResult = promptArchitect.generateKoreanPrompt(currentInput, currentOptions);
        const englishResult = promptArchitect.generateEnglishPrompt(currentInput, currentOptions);
        const explanation = promptArchitect.generateExplanation(currentInput, currentOptions);

        koreanPrompt.textContent = koreanResult;
        englishPrompt.textContent = englishResult;
        explanationContent.innerHTML = explanation;

        hideLoading();
        showOutput();
        showToast('í”„ë¡¬í”„íŠ¸ê°€ ì¬ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
    } catch (error) {
        console.error('ì¬ìƒì„± ì˜¤ë¥˜:', error);
        hideLoading();
        showToast('ì¬ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
    }
}

function handleNewPrompt() {
    hideOutput();
    userInput.value = '';
    userInput.focus();
    userInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
}

function toggleOptions() {
    const isHidden = optionsPanel.style.display === 'none' || !optionsPanel.style.display;
    if (isHidden) {
        optionsPanel.style.display = 'block';
        optionsToggle.classList.add('active');
    } else {
        optionsPanel.style.display = 'none';
        optionsToggle.classList.remove('active');
    }
}

function copyToClipboard(elementId) {
    const element = document.getElementById(elementId);
    const text = element.textContent;

    navigator.clipboard.writeText(text).then(() => {
        showToast('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰');
        const btn = document.querySelector(`[data-target="${elementId}"]`);
        btn.classList.add('copied');
        setTimeout(() => btn.classList.remove('copied'), 2000);
    }).catch(err => {
        console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
        showToast('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
    });
}

function showToast(message, type = 'success') {
    toastMessage.textContent = message;
    toast.className = 'toast show';
    if (type === 'error') toast.classList.add('error');
    setTimeout(() => toast.classList.remove('show', 'error'), 3000);
}

function showLoading() {
    loadingSection.style.display = 'block';
    generateBtn.disabled = true;
    setTimeout(() => loadingSection.scrollIntoView({ behavior: 'smooth', block: 'center' }), 100);
}

function hideLoading() {
    loadingSection.style.display = 'none';
    generateBtn.disabled = false;
}

function showOutput() {
    outputSection.style.display = 'block';
}

function hideOutput() {
    outputSection.style.display = 'none';
}

function simulateProcessing() {
    return new Promise(resolve => setTimeout(resolve, 1500 + Math.random() * 1000));
}
    </script>
</body>
</html>
